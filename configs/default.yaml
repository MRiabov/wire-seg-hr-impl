# Default configuration for WireSegHR (segmentation-only)
backbone: mit_b3
pretrained: true  # Uses HF SegFormer weights if available; else timm or tiny fallback

coarse:
  train_size: 512
  test_size: 1024

fine:
  patch_size: 768
  overlap: 128

conditioning:
  use_binary_location: true
  cond_from: coarse_logits_1x1
  cond_crop: patch  # per published method (method_yq)

minmax:
  enable: true
  kernel: 6  # fixed 6x6 luminance min/max

label:
  coarse_downsample: maxpool

inference:
  alpha: 0.01
  prob_threshold: 0.5
  stitch: avg_logits

optim:
  iters: 40000
  batch_size: 8
  lr: 6e-5
  weight_decay: 0.01
  schedule: poly
  power: 1.0

# training housekeeping
seed: 42
out_dir: runs/wireseghr
eval_interval: 500
ckpt_interval: 1000
# resume: runs/wireseghr/ckpt_1000.pt  # optional

# dataset paths (placeholders)
data:
  train_images: dataset/train/images
  train_masks: dataset/train/gts
  val_images: dataset/val/images
  val_masks: dataset/val/gts
  test_images: dataset/test/images
  test_masks: dataset/test/gts
